{% extends 'base.html' %}
{% load static %}

{% block title %}Portfolio{% endblock %}

{% block content %}
  <h1>Bem-vindo ao Portfolio!</h1>
  <div style="margin-bottom: 2rem;">
    <a href="/manager">Ir para Gerenciador de Ativos</a>
  </div>
  <div style="max-width: 600px; margin: auto;">
    <label for="chartType" style="display:block; margin-bottom:0.5rem;">Tipo de gr√°fico:</label>
    <select id="chartType" style="margin-bottom:1rem;">
      <option value="doughnut" selected>Rosquinha</option>
      <option value="pie">Pizza</option>
      <option value="bar">Barra</option>
    </select>
    <canvas id="pieChart"></canvas>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
  <script src="{% static 'js/portfolio.js' %}"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const labels = {{ labels|safe }};
      const values = {{ values|safe }};
      initPortfolioChart(labels, values);
    });
  </script>
{% endblock %}
