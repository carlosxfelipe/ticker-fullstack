{% extends 'base.html' %}

{% block title %}Minha Carteira{% endblock %}

{% block content %}
  <h1>Minha Carteira</h1>  
  <a href="{% url 'manager:create' %}" class="btn" style="margin-bottom:2rem;">Adicionar Ativo</a>

  <table>
    <thead>
      <tr>
        <th>Ticker</th>
        <th>Quantidade</th>
        <th>Preço Médio</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      {% for asset in assets %}
      <tr>
        <td>{{ asset.ticker }}</td>
        <td>{{ asset.quantity }}</td>
        <td>{{ asset.average_price }}</td>
        <td>
          <div style="display: flex; gap: 0.5rem;">
            <a href="{% url 'manager:edit' asset.id %}" class="btn btn-sm">Editar</a>
            <form action="{% url 'manager:delete' asset.id %}" method="post" style="margin: 0;">
              {% csrf_token %}
              <button type="submit" class="btn btn-sm btn-danger">Remover</button>
            </form>
          </div>
        </td>
      </tr>
      {% empty %}
      <tr><td colspan="4">Nenhum ativo cadastrado.</td></tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
